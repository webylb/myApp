webpackJsonp([9],{"6/Fe":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("GQaK"),o=i("nJwn"),a=i("qwAB"),n={props:{vipTypeList:{type:Array,default:[]},showAddvip:{type:Boolean,default:!1},vipTypeDefaultId:{type:Number,default:1}},mounted:function(){},watch:{vipTypeDefaultId:function(t){this.checkId=this.vipTypeDefaultId}},data:function(){return{isShowToast:!1,activeIndex:0,checkId:0}},methods:{hideToastBox:function(){this.$emit("closeVipBox",!1)},avg:function(t){return parseInt(10*t)/10},changeActiveIndex:function(t,e){this.activeIndex=t,this.checkId=e},subAddVip:function(){this.$emit("addvip",this.checkId)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddvip,expression:"showAddvip"}],staticClass:"addvip-toast fade"},[s("div",{staticClass:"addvip-toast-wrap"},[s("div",{staticClass:"addvip-toast-content"},[t._m(0),t._v(" "),s("div",{staticClass:"addvip-type-list"},t._l(t.vipTypeList,function(e,i){return s("div",{key:e.id,staticClass:"addvip-item",class:[i==t.activeIndex?"addvip-item-active":""],on:{click:function(s){return t.changeActiveIndex(i,e.id)}}},[s("div",{staticClass:"top-label"},[s("span",[t._v(t._s(t.avg(e.discount)))]),s("span",[t._v("折")])]),t._v(" "),s("div",{staticClass:"center-text"},[s("div",{staticClass:"center-text-title"},[t._v(t._s(e.vipTypeName))]),t._v(" "),s("div",{staticClass:"center-text-sp"},[t._v("现价:￥"+t._s(e.sellingPrice))]),t._v(" "),s("div",{staticClass:"center-text-op"},[s("s",[t._v("原价:￥"+t._s(e.oldPrice))])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:i==t.activeIndex,expression:"index == activeIndex ? true : false"}],staticClass:"bottom-checked"})])}),0),t._v(" "),s("div",{staticClass:"addvip-title-list"},t._l(t.vipTypeList,function(e,o){return o==t.activeIndex?s("div",{key:e.id,class:["title-item"+o,"title-item"]},[s("div",[s("img",{attrs:{src:i("Y5I8"),alt:""}}),t._v("\n            每"),1==e.monthAmount?s("span",[t._v("月")]):3==e.monthAmount?s("span",[t._v("季")]):s("span",[t._v("年")]),t._v("帮你省\n            "),1==e.monthAmount?s("span",{staticClass:"save-money"},[t._v(t._s(e.saveMoneyEveryMonth))]):(e.monthAmount,s("span",{staticClass:"save-money"},[t._v(t._s(e.saveMoneyEveryMonth))])),t._v("元\n          ")])]):t._e()}),0),t._v(" "),s("div",{staticClass:"subAddVip"},[s("button",{attrs:{type:"button"},on:{click:t.subAddVip}},[t._v("还不是会员?立即开通")])])]),t._v(" "),s("div",{staticClass:"addvip-close",on:{click:t.hideToastBox}},[s("i",{staticClass:"iconfont"},[t._v("")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"addvip-type-top"},[e("img",{staticClass:"add-img",attrs:{src:i("XrmF"),alt:""}})])}]};var r=i("VU/8")(n,c,!1,function(t){i("E6TS")},"data-v-cb81e94c",null).exports,d=i("FVii"),u=i("hhm8"),l={components:{ShopHeader:o.a,Scroll:a.a,addvipToast:r},data:function(){return{showHeader:!1,title:"",couponGoodsStyle:"",bannerImg:"",rechargeType:0,rechargeAccount:"",genreType:0,goodsType:0,goodsSku:"",couponData:{},inputData:"",showAddvip:!1,isVipUser:!1,vipTypeList:[],vipTypeDefaultId:0}},created:function(){var t=this;document.title=this.$route.meta.title,-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger")?(this.showHeader=!1,this.couponGoodsStyle="top:0rem"):(this.showHeader=!0,this.couponGoodsStyle="top:2.75rem"),d.d({pageKey:this.$route.query.pageKey}).then(function(e){e.code&&"00"==e.code?(t.couponData=e.result.moduleMap.mod_item_list.dataList,t.title=e.result.pageName,e.result.moduleMap.mod_banner.dataList&&(t.bannerImg=e.result.moduleMap.mod_banner.dataList[0].image),t.$nextTick(function(){t._initScroll(),t.changeTitle(),t.checkDefaultSku()})):e.code&&"01"===e.code?u.a.toWeiXinLogin(window.location.href):t.$toastBox.showToastBox(e.message)})},mounted:function(){this.$nextTick(function(){})},watch:{rechargeType:function(t,e){var i=this;this.$nextTick(function(){i.checkDefaultSku()})}},methods:{focusInput:function(t){t.target.focus()},scrollToTop:function(){window.scrollBy(0,10)},changeTitle:function(){var t=document.getElementsByTagName("head"),e=document.createElement("meta");t[0].appendChild(e),document.title=this.title},checkDefaultSku:function(){this.goodsSku=this.$refs.goods[0].getAttribute("default-sku")},_initScroll:function(){var t=this;this.$nextTick(function(){t.scroll?t.scroll.refresh():t.scroll=new s.a(t.$refs.couponGoodsContent,{probeType:3,startY:0,bounce:!1,click:!0})})},goMyCoupon:function(){this.$router.push("/validCoupon")},changeRecharge:function(t){this.rechargeType=t,this.genreType=0,this.goodsType=0},changeGenre:function(t){this.genreType=t,this.$refs.rechargeInputItem&&this.$refs.rechargeInputItem[0].blur()},changeGood:function(t,e){this.goodsType=t,this.goodsSku=e,this.$refs.rechargeInputItem&&this.$refs.rechargeInputItem[0].blur()},immediatePay:function(){this.isVip()},isVip:function(){var t=this;d.e().then(function(e){e.code&&"00"==e.code?(t.isVipUser=e.result.isVipUser,t.isVipUser?t.toPlay():(t.vipTypeList=e.result.vipTypeList,t.vipTypeDefaultId=e.result.vipTypeList[0].id,t.showAddvip=!0)):e.code&&"01"===e.code?u.a.toWeiXinLogin(window.location.href):t.$toastBox.showToastBox(e.message)})},addvip:function(t){var e=this,i=window.location.href;d.a({vipTypeId:t,returnUrl:i}).then(function(t){t.code&&"00"==t.code?window.location.href=t.result.payUrl:t.code&&"01"===t.code?u.a.toWeiXinLogin(window.location.href):e.$toastBox.showToastBox(t.message)})},toPlay:function(){var t=this,e={};if(this.$refs.rechargeInputItem&&this.$refs.rechargeInputItem.length>0){if(!this.inputData)return void this.$toastBox.showToastBox("请输入充值账号!");e={sku:this.goodsSku,account:this.inputData}}else e={sku:this.goodsSku};d.b(e).then(function(e){e.code&&"00"==e.code?window.location.href=e.result.payUrl:e.code&&"01"===e.code?u.a.toWeiXinLogin(window.location.href):t.$toastBox.showToastBox(e.message)})},closeVipBox:function(t){this.showAddvip=t}},updated:function(){}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"coupon-goods"},[t.showHeader?s("shop-header",{ref:"shopHeader",staticStyle:{position:"absolute",top:"0",left:"0","z-index":"999"},attrs:{"line-style":"background:#fff",title:t.title}}):t._e(),t._v(" "),s("div",{ref:"couponGoodsContent",staticClass:"couponGoodsContent",style:t.couponGoodsStyle},[s("div",{staticClass:"goods-detail"},[s("div",{ref:"bannerCont",staticClass:"banner"},[s("img",{staticClass:"banner-bg",attrs:{src:i("7ucN"),alt:""}}),t._v(" "),s("div",{staticClass:"banner-cont"},[s("div",{staticClass:"banner-ico"},[s("img",{attrs:{src:t.bannerImg,alt:t.title}}),t._v(" "),s("div",{staticClass:"banner-title"},[t._v(t._s(t.title))])]),t._v(" "),s("div",{staticClass:"banner-btn"},[s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.goMyCoupon}},[t._v("我的卡券"),s("i",{staticClass:"iconfont"},[t._v("")])])])])]),t._v(" "),t.couponData?s("div",{staticClass:"goods-content"},[s("div",{staticClass:"goods-content-item"},[s("div",{staticClass:"goods-type-title"},[t._v("充值方式")]),t._v(" "),s("div",{staticClass:"goods-type-way"},t._l(t.couponData,function(e,i){return s("button",{key:i,staticClass:"btn",class:[t.rechargeType===i?"btn-active":"btn-default"],attrs:{type:"button"},on:{click:function(e){return t.changeRecharge(i)}}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._l(t.couponData,function(e,i){return s("div",{key:i,staticClass:"goodsData"},[i===t.rechargeType?s("div",[e.rechargeAccountTypeList?s("div",{staticClass:"goods-content-item"},[s("div",{staticClass:"goods-type-title"},[t._v("充值账号")]),t._v(" "),s("div",{staticClass:"goods-type-way"},t._l(e.rechargeAccountTypeList,function(e,i){return s("div",{staticClass:"input-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputData,expression:"inputData"}],ref:"rechargeInputItem",refInFor:!0,staticClass:"recharge-input",attrs:{type:"text",name:e.keyName,placeholder:e.placeHolder,maxlength:"50"},domProps:{value:t.inputData},on:{click:function(e){return e.stopPropagation(),t.focusInput(e)},blur:t.scrollToTop,input:function(e){e.target.composing||(t.inputData=e.target.value)}}})])}),0)]):t._e(),t._v(" "),s("div",{staticClass:"goods-content-item"},[s("div",{staticClass:"goods-type-title"},[t._v("类型")]),t._v(" "),s("div",{staticClass:"goods-type-way"},t._l(e.subList,function(e,i){return s("button",{key:i,staticClass:"btn",class:[t.genreType===i?"btn-active":"btn-default"],attrs:{type:"button"},on:{click:function(e){return t.changeGenre(i)}}},[t._v(t._s(e.title))])}),0)]),t._v(" "),t._l(e.subList,function(i,o){return s("div",{attrs:{":key":o}},[o===t.genreType?s("div",[s("div",{staticClass:"goods-content-item"},[s("div",{staticClass:"goods-type-title"},[t._v("面额")]),t._v(" "),s("div",{staticClass:"goods-type-way goods-type-wrap"},[t._l(e.subList[o].subList,function(e,i){return s("div",{key:i,ref:"goods",refInFor:!0,staticClass:"goods",class:[t.goodsType===i?"goods-active":"goods-default"],attrs:{"default-sku":e.sku},on:{click:function(s){return t.changeGood(i,e.sku)}}},[s("div",{staticClass:"goods-img-wrap"},[s("div",{staticClass:"goods-title"},[t._v(t._s(e.title))]),t._v(" "),s("div",{staticClass:"good-price-wrap"},[s("div",{staticClass:"goods-price"},[s("span",[t._v("￥")]),t._v(t._s(e.price))]),t._v(" "),s("div",{staticClass:"goods-oldPrice"},[s("s",[t._v("市场价:￥"+t._s(e.oldPrice))])]),t._v(" "),s("div",{staticClass:"goods-id"},[t._v(t._s(e.id))])])]),t._v(" "),e.cornerMarker?s("div",{staticClass:"goods-mark"},[s("img",{attrs:{src:e.cornerMarker,alt:""}})]):t._e()])}),t._v(" "),s("div",{staticClass:"goods placeholder-goods"}),t._v(" "),s("div",{staticClass:"goods placeholder-goods"})],2)])]):t._e()])}),t._v(" "),s("div",{staticClass:"goods-content-item"},[s("div",{staticClass:"goods-type-title"},[t._v("使用说明")]),t._v(" "),s("div",{staticClass:"goods-type-way goods-directionForUse",domProps:{innerHTML:t._s(e.content)}},[t._v("\n                  "+t._s(e.content)+"\n              ")])])],2):t._e()])})],2):t._e()])]),t._v(" "),s("div",{staticClass:"immediate-payment",on:{click:t.immediatePay}},[t._v("\n    立即付款\n  ")]),t._v(" "),s("addvip-toast",{attrs:{showAddvip:t.showAddvip,vipTypeList:t.vipTypeList,vipTypeDefaultId:t.vipTypeDefaultId},on:{closeVipBox:t.closeVipBox,addvip:t.addvip}})],1)},staticRenderFns:[]};var v=i("VU/8")(l,p,!1,function(t){i("xHVK")},"data-v-0e30117c",null);e.default=v.exports},"7ucN":function(t,e,i){t.exports=i.p+"static/img/goodsbanner.d4e3c23.png"},E6TS:function(t,e){},FVii:function(t,e,i){"use strict";e.c=function(){return a.a.post(s.a.API.GETSERVICECENTER,c.a.stringify({pageKey:"servce_center"})).then(function(t){return t.data})},e.d=function(t){return a.a.post(s.a.API.GETSERVICECENTER,c.a.stringify({pageKey:t.pageKey})).then(function(t){return t.data})},e.e=function(){return a.a.post(s.a.API.ISVIP).then(function(t){return t.data})},e.a=function(t){return a.a.post(s.a.API.ADDVIP,c.a.stringify({vipTypeId:t.vipTypeId,returnUrl:t.returnUrl})).then(function(t){return t.data})},e.b=function(t){var e={};e=t.account?{sku:t.sku,count:1,account:t.account}:{sku:t.sku,count:1};return a.a.post(s.a.API.BUYCOUPONS,c.a.stringify(e)).then(function(t){return t.data})};var s=i("T452"),o=i("mtWM"),a=i.n(o),n=i("mw3O"),c=i.n(n)},XrmF:function(t,e,i){t.exports=i.p+"static/img/vip-top.e06e39e.png"},Y5I8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAUCAMAAABCtxbIAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFcUExURQAAAPbNi/bNi/bNi/vluKqZcfbNi/vluOG+fOO/fYp4WKqZcaqZcYp4WPbNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi/bNi+O/ffbNi+/IhvbNi+O/ffbNi+TAfvbNi+TAfuXBf+O/ffbNi/bNi/bNi/bNi/bNi/bNi9GzeY99XMWndJiEX458W4p4WOK/faqZcZSCYPbNi/bNi/bNi4p4WIp4WKqZcYp4WOnEh6qZcaqZceXAg6yTaNG0fq+cc5eCXujChPbNi+C9e+G+fPPLifXMiqqZce7HhefCgOjDgevFg/DJh+TAfuK/ffHJh+XBf/TLifPKiObBf/TMiuG9e+rFg+nEguzFhty5f4x5WcOqdu3GhM2xepWAXeXAg+zGiLqkd7WmtioAAABUdFJOUwAI1izE5IfD/vrkFzcXB8JR57Scd/swXH7hDquJorZXe2bGOb0ykQ39zI0K2s/7ufkU+PKF99DvIVD+rvf8/Po3fvjHFdRn0oiH3czc0v5J+Pjn/YzP8JgAAAETSURBVCjPlZDlcwIxEMUDFK6lpdRdqLu7Unfv24MD6u72/8/0YnfQdpjp+5C8t7/ZJBvGMmUYLKuMnP802PBXQ9bT/lJdj+uHBrrd4AmIrdXrs9f8zY0QWxkHjfKwHGJssq9Z8HaMrbEC/+56cH8VIFq0w2xwYWoC9YI3Adg+tHa23vfAOc0sWdHnuWkgIniLXcXnl//oA5LTizX/xH2j4B3cIn5wDM3p7VH4NvnOaqSJY/NV+hrJS37wm5i0xWrOQAY3E9qGFa9M58krx5YqXuHSi8vktRPKFC8sV4VYir8upa5Hkf5or5zwxBTD0d3DrSj4NK/lKXFOjsz7ONDp0bwKOD0jyuXqz7M1ODzS29XA0Tcw42RZnZ5TIgAAAABJRU5ErkJggg=="},xHVK:function(t,e){}});
//# sourceMappingURL=9.67508627b78d8ad842cf.js.map