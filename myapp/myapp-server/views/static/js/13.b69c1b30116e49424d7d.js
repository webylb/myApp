webpackJsonp([13],{"/lZI":function(e,t,i){"use strict";var s=i("GQaK");function r(e,t){if(!function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)}(e,t)){var i=e.className.split(" ");i.push(t),e.className=i.join(" ")}}var n=document.createElement("div").style;!function(){var e={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var t in e)if(void 0!==n[e[t]])return t}();var a={data:function(){return{dots:[],currentPageIndex:0}},props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},isClick:{type:Boolean,default:!1}},mounted:function(){var e=this;setTimeout(function(){e._setSliderWidth(),e._initDots(),e._initSlider()},20),this.autoPlay&&this._play(),window.addEventListener("resize",function(){if(!e.slider)return 0;e._setSliderWidth(!0),e.slider.refresh()})},methods:{_setSliderWidth:function(e){this.children=this.$refs.sliderGroup.children;for(var t=0,i=this.$refs.slider.clientWidth,s=0;s<this.children.length;s++){var n=this.children[s];r(n,"slider-item"),n.style.width=i+"px",t+=i}this.loop&&!e&&(t+=2*i),this.$refs.sliderGroup.style.width=t+"px"},_initDots:function(){this.dots=new Array(this.children.length)},_initSlider:function(){var e=this;this.slider=new s.a(this.$refs.slider,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:.3,speed:400},click:this.isClick}),this.slider.on("scrollEnd",function(){var t=e.slider.getCurrentPage().pageX;e.currentPageIndex=t,e.autoPlay&&(clearTimeout(e.timer),e._play())})},_play:function(){var e=this;this.timer=setTimeout(function(){e.slider.next()},this.interval)}},destroyed:function(){clearTimeout(this.timer)}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"slider",staticClass:"slider"},[i("div",{ref:"sliderGroup",staticClass:"slider-group"},[e._t("default")],2),e._v(" "),i("div",{staticClass:"dots"},e._l(e.dots,function(t,s){return i("span",{key:s,staticClass:"dot",class:{active:e.currentPageIndex===s}})}),0)])},staticRenderFns:[]};var o=i("VU/8")(a,l,!1,function(e){i("mj9P")},"data-v-57a4ab1a",null);t.a=o.exports},FVii:function(e,t,i){"use strict";t.c=function(){return n.a.post(s.a.API.GETSERVICECENTER,l.a.stringify({pageKey:"servce_center"})).then(function(e){return e.data})},t.d=function(e){return n.a.post(s.a.API.GETSERVICECENTER,l.a.stringify({pageKey:e.pageKey})).then(function(e){return e.data})},t.e=function(){return n.a.post(s.a.API.ISVIP).then(function(e){return e.data})},t.a=function(e){return n.a.post(s.a.API.ADDVIP,l.a.stringify({vipTypeId:e.vipTypeId,returnUrl:e.returnUrl})).then(function(e){return e.data})},t.b=function(e){var t={};t=e.account?{sku:e.sku,count:1,account:e.account}:{sku:e.sku,count:1};return n.a.post(s.a.API.BUYCOUPONS,l.a.stringify(t)).then(function(e){return e.data})};var s=i("T452"),r=i("mtWM"),n=i.n(r),a=i("mw3O"),l=i.n(a)},QTQa:function(e,t){},mj9P:function(e,t){},pWyC:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("GQaK"),r=i("nJwn"),n=i("qwAB"),a=i("/lZI"),l=i("FVii"),o=i("hhm8"),c={components:{ShopHeader:r.a,Scroll:n.a,Slider:a.a},data:function(){return{swiperList:[],showHeader:!1,serviceCenterStyle:"",servicesTopstyle:"",isShowBanner:!1,serviceMenuList:[],tops:[],scrollY:0,packedIndex:0,listLastHeight:"",isShowFiexd:!1}},created:function(){var e=this;document.title=this.$route.meta.title;navigator.userAgent.toLowerCase().indexOf("micromessenger");this.showHeader=!1,this.serviceCenterStyle="top:0rem",l.c().then(function(t){e.$nextTick(function(){t.code&&"00"==t.code?(e.serviceMenuList=t.result.moduleMap.group_service_list,t.result.moduleMap.mod_banner.dataList&&(e.swiperList=t.result.moduleMap.mod_banner.dataList),e._initScroll()):t.code&&"01"===t.code?o.a.toWeiXinLogin(window.location.href):e.$toastBox.showToastBox(t.message)})})},mounted:function(){this.$nextTick(function(){})},methods:{jumpUrl:function(e){window.top.location=e},_initScroll:function(){var e=this;this.$nextTick(function(){for(var t=0,i=0,r=e.serviceMenuList.length;i<r;i++)t+=e.$refs.menuItem[0].getBoundingClientRect().width;if(e.$refs.menuContent.style.width=t+"px",e.$refs.menuContentFiexd.style.width=t+"px",e.scroll)e.fartherScroll.refresh(),e.scroll.refresh(),e.fiexdScroll.refresh();else{e.fartherScroll=new s.a(e.$refs.serviceCenterContent,{probeType:3,startY:0,scrollX:!1,scrollY:!0,bounce:!1,click:!0});var n=e.$refs.bannerCont.offsetHeight;e.$refs.menuContent.offsetHeight;e.fartherScroll.on("scroll",function(t){e.scrollY=Math.abs(t.y),e.scrollY>=n?(e.serviceCenterStyle="top:2.75rem",e.isShowFiexd=!0,e.scroll.disable(),e.fiexdScroll.enable()):(e.serviceCenterStyle="top:0rem",e.isShowFiexd=!1,e.fiexdScroll.disable(),e.scroll.enable())}),e.scroll=new s.a(e.$refs.menuWrapper,{startX:0,scrollX:!0,scrollY:!1,probeType:3,click:!0}),e.fiexdScroll=new s.a(e.$refs.menuWrapperFiexd,{startX:0,scrollX:!0,scrollY:!1,probeType:3,click:!0});var a=e.serviceMenuList.length,l=e.$refs.serviceList[a-1].offsetHeight,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=(e.$refs.menuWrapper.getBoundingClientRect().height,o-l);e.listLastHeight="height:"+c+"px",e._initTops()}})},_initTops:function(){var e=this.$refs.bannerCont.offsetHeight,t=(this.$refs.menuWrapper.getBoundingClientRect().height,this.tops),i=parseInt(e-1);t.push(i);var s=this.$refs.servicesWrapper.getElementsByClassName("service-list");[].slice.call(s).forEach(function(e){i+=e.clientHeight,t.push(i)})},clickMenuItem:function(e,t){if(t._constructed){var i=this.$refs.bannerCont.offsetHeight;this.fartherScroll.scrollTo(0,-i,1e3);var s=this.$refs.servicesWrapper.getElementsByClassName("service-list")[e];this.fartherScroll.scrollToElement(s,300)}},clickMenuFiexdItem:function(e,t){if(t._constructed){var i=this.$refs.servicesWrapper.getElementsByClassName("service-list")[e];this.fartherScroll.scrollToElement(i,300)}},clickServieItem:function(e,t){t._constructed,window.top.location="/shop/market/v1/index.html#"+e}},computed:{currentIndex:function(){var e=this.tops,t=this.scrollY;return this.packedIndex=e.findIndex(function(i,s){return t>=i&&t<e[s+1]})}},watch:{currentIndex:function(e){var t=this.$refs.menuWrapper.getElementsByClassName("menu-item")[e-1],i=this.$refs.menuWrapperFiexd.getElementsByClassName("menu-item")[e-1];this.scroll.scrollToElement(t,200),this.fiexdScroll.scrollToElement(i,200)}},activated:function(){this.fartherScroll}},u={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"service-center"},[e.showHeader?i("shop-header",{ref:"shopHeader",staticStyle:{position:"absolute",top:"0",left:"0","z-index":"999"},attrs:{"line-style":"background:#fff",title:"服务中心"}}):e._e(),e._v(" "),i("div",{ref:"serviceCenterContent",staticClass:"serviceCenterContent",style:e.serviceCenterStyle},[i("div",{staticClass:"all-service"},[i("div",{ref:"bannerCont",staticClass:"banner"},[e.swiperList.length?i("div",{ref:"sliderWrapper",staticClass:"slider-wrapper"},[i("slider",{attrs:{loop:!0,"auto-play":!0,isClick:!0}},e._l(e.swiperList,function(t,s){return i("div",{key:s},[i("a",{on:{click:function(i){return e.jumpUrl(t.linkUrl)}}},[i("img",{staticClass:"needsclick",attrs:{src:t.image,alt:t.title}})])])}),0)],1):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowFiexd,expression:"!isShowFiexd"}],ref:"menuWrapper",staticClass:"menu-wrapper fadeOut"},[i("ul",{ref:"menuContent",staticClass:"menu-content"},e._l(e.serviceMenuList,function(t,s){return i("li",{ref:"menuItem",refInFor:!0,staticClass:"menu-item",class:[0===s?"click-item":"noClick-item"],on:{click:function(t){return e.clickMenuItem(s,t)}}},[i("span",{staticClass:"text"},[e._v("\n                "+e._s(t.moduleName)+"\n              ")])])}),0)]),e._v(" "),i("div",{ref:"servicesWrapper",staticClass:"services-Wrapper"},[i("ul",{ref:"servicesContent",staticClass:"services-content"},e._l(e.serviceMenuList,function(t,s){return i("li",{ref:"serviceList",refInFor:!0,staticClass:"service-list"},[i("div",[i("h2",{directives:[{name:"show",rawName:"v-show",value:0!=s,expression:"index==0? false : true"}],staticClass:"service-title"},[e._v(e._s(t.moduleName))]),e._v(" "),i("div",{staticClass:"service-itemWrap"},e._l(t.dataList,function(t){return i("div",{staticClass:"service-item ",on:{click:function(i){return e.clickServieItem(t.linkUrl,i)}}},[i("div",{staticClass:"icon"},[i("img",{attrs:{src:t.image,alt:t.title}}),e._v(" "),i("div",{staticClass:"service-name"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"service-des"},[e._v(e._s(t.subTitle))])])])}),0),e._v(" "),s===e.serviceMenuList.length-1?i("div",{ref:"listLast",refInFor:!0,staticClass:"listLast",style:e.listLastHeight}):e._e()])])}),0)])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowFiexd,expression:"isShowFiexd"}],ref:"menuWrapperFiexd",staticClass:"menu-wrapper fiexd-menu fadeIn"},[i("ul",{ref:"menuContentFiexd",staticClass:"menu-content"},e._l(e.serviceMenuList,function(t,s){return i("li",{ref:"menuItem",refInFor:!0,staticClass:"menu-item",class:[s===e.currentIndex?"click-item":"noClick-item"],on:{click:function(t){return e.clickMenuFiexdItem(s,t)}}},[i("span",{staticClass:"text"},[e._v("\n          "+e._s(t.moduleName)+"\n        ")])])}),0)])],1)},staticRenderFns:[]};var d=i("VU/8")(c,u,!1,function(e){i("QTQa")},"data-v-e3249870",null);t.default=d.exports}});
//# sourceMappingURL=13.b69c1b30116e49424d7d.js.map