{"version":3,"sources":["webpack:///src/base/coupon-item/coupon-item.vue","webpack:///./src/base/coupon-item/coupon-item.vue?4033","webpack:///./src/base/coupon-item/coupon-item.vue","webpack:///src/coupon/invalid-coupon/invalid-coupon.vue","webpack:///./src/coupon/invalid-coupon/invalid-coupon.vue?b591","webpack:///./src/coupon/invalid-coupon/invalid-coupon.vue","webpack:///./src/api/myCoupon.js","webpack:///./src/coupon/my-coupon/images/no-coupon.png"],"names":["coupon_item","name","props","coupondata","type","Object","default","valid","Boolean","created","this","card","pwd","copyText","data","openText","createTime","expireTime","methods","timeFormat","date","util","formatDate","handleItem","$emit","item","onCopySuccess","$toastBox","showToastBox","onCopyError","openDirectionForUse","showQrcode","$couponToastBox","pictureCode","coupon_item_coupon_item","render","_vm","_h","$createElement","_c","_self","class","on","click","staticClass","_v","_s","attrs","src","itemPicture","alt","itemName","_e","directives","rawName","value","expression","arg","href","goToUse","domProps","innerHTML","useTip","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","invalid_coupon","couponsList","currentPage","pageSize","showLoad","noCoupon","loadingTitle","components","Scroll","scroll_scroll","ShopHeader","shop_header","couponItem","Loading","loading","document","title","$route","meta","getInvalidCouponsList","mounted","window","history","pushState","URL","addEventListener","goBack","destroyed","removeEventListener","hideToastBox","back","loadMore","hasMore","loadImage","$refs","validCouponScroll","refresh","showDesText","console","log","opts","_this","myCoupon","then","res","code","concat","result","length","amount","toWeiXinLogin","location","message","invalid_coupon_invalid_coupon","ref","staticStyle","top","pullup","scrollToEnd","_l","key","id","padding","axios","post","CONFIG","API","GETALLCOUPON","qs","stringify","pageIndex","GETINVALIDCOUPON","__WEBPACK_IMPORTED_MODULE_0__config__","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","n","__WEBPACK_IMPORTED_MODULE_2_qs__","__WEBPACK_IMPORTED_MODULE_2_qs___default","module","exports","p"],"mappings":"uEAiDAA,GACAC,KAAA,cACAC,OACAC,YACAC,KAAAC,OACAC,QAAA,MAEAC,OACAH,KAAAI,QACAF,SAAA,IAGAG,QAZA,WAcAC,KAAAP,WAAAQ,MAAAD,KAAAP,WAAAS,IACAF,KAAAG,SAAAH,KAAAP,WAAAQ,KAAA,KAAAD,KAAAP,WAAAS,KACAF,KAAAP,WAAAQ,MAAAD,KAAAP,WAAAS,MACAF,KAAAG,SAAAH,KAAAP,WAAAS,MAGAE,KApBA,WAqBA,OACAD,SAAA,GACAE,UAAA,EACAC,WAAA,GACAC,WAAA,KAGAC,SACAC,WADA,SACAC,GACA,OAAAC,EAAA,EAAAC,WAAAF,IAEAG,WAJA,WAKAb,KAAAc,MAAA,cAAAC,KAAAf,KAAAI,QAEAY,cAPA,WAQAhB,KAAAiB,UAAAC,aAAA,SAEAC,YAVA,WAWAnB,KAAAiB,UAAAC,aAAA,SAEAE,oBAbA,WAcApB,KAAAK,UAAAL,KAAAK,SACAL,KAAAc,MAAA,gBAEAO,WAjBA,WAmBArB,KAAAsB,gBAAAJ,aAAAlB,KAAAP,WAAA8B,gBC7FeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAA,cAAAL,EAAA7B,MAAA,2CAAAmC,IAAoFC,MAAAP,EAAAb,cAAwBgB,EAAA,OAAYK,YAAA,kBAA4BL,EAAA,QAAaK,YAAA,qBAA+BR,EAAAS,GAAA,WAAAN,EAAA,QAAAH,EAAAS,GAAA,IAAAT,EAAAU,GAAAV,EAAAjB,WAAAiB,EAAAjC,WAAAa,kBAAAoB,EAAAS,GAAA,KAAAN,EAAA,OAAuHK,YAAA,gBAA0BL,EAAA,OAAYK,YAAA,eAAyBL,EAAA,OAAYQ,OAAOC,IAAAZ,EAAAjC,WAAA8C,YAAAC,IAAA,QAA2Cd,EAAAS,GAAA,KAAAN,EAAA,OAA0BK,YAAA,kBAA4BL,EAAA,MAAWK,YAAA,iBAA2BR,EAAAS,GAAAT,EAAAU,GAAAV,EAAAjC,WAAAgD,aAAAf,EAAAS,GAAA,KAAAN,EAAA,OAAkEK,YAAA,sBAAgCR,EAAAS,GAAA,QAAAT,EAAAU,GAAAV,EAAAjB,WAAAiB,EAAAjC,WAAAc,gBAAAmB,EAAAS,GAAA,KAAAT,EAAAjC,WAAAQ,MAAAyB,EAAAjC,WAAAS,IAAA2B,EAAA,OAAuJK,YAAA,eAAyBR,EAAAS,GAAA,OAAAT,EAAAU,GAAAV,EAAAjC,WAAAQ,SAAAyB,EAAAgB,KAAAhB,EAAAS,GAAA,KAAAT,EAAAjC,WAAAQ,MAAAyB,EAAAjC,WAAAS,IAAA2B,EAAA,OAAyIK,YAAA,eAAyBR,EAAAS,GAAA,OAAAT,EAAAU,GAAAV,EAAAjC,WAAAS,QAAAwB,EAAAgB,KAAAhB,EAAAS,GAAA,KAAAT,EAAAjC,WAAAQ,OAAAyB,EAAAjC,WAAAS,IAAuKwB,EAAAgB,KAAvKb,EAAA,OAA2IK,YAAA,kBAA4BR,EAAAS,GAAA,OAAAT,EAAAU,GAAAV,EAAAjC,WAAAS,QAAAwB,EAAAS,GAAA,KAAAT,EAAAjC,WAAA8B,YAAAM,EAAA,OAAyHK,YAAA,kBAA4BL,EAAA,QAAaG,IAAIC,MAAAP,EAAAL,cAAwBK,EAAAS,GAAA,cAAAT,EAAAgB,OAAAhB,EAAAS,GAAA,KAAAT,EAAAjC,WAAA8B,YAAogBG,EAAAgB,KAApgBb,EAAA,OAAsFK,YAAA,kBAA4BL,EAAA,UAAec,aAAapD,KAAA,YAAAqD,QAAA,mBAAAC,MAAAnB,EAAA,SAAAoB,WAAA,WAAAC,IAAA,SAAoGxD,KAAA,YAAAqD,QAAA,sBAAAC,MAAAnB,EAAA,cAAAoB,WAAA,gBAAAC,IAAA,YAAoHxD,KAAA,YAAAqD,QAAA,oBAAAC,MAAAnB,EAAA,YAAAoB,WAAA,cAAAC,IAAA,UAA0Gb,YAAA,cAAAG,OAAmC3C,KAAA,YAAiBgC,EAAAS,GAAA,YAAAT,EAAAS,GAAA,KAAAN,EAAA,OAAoDK,YAAA,6BAAuCL,EAAA,OAAYK,YAAA,oBAAAF,IAAoCC,MAAAP,EAAAN,uBAAiCS,EAAA,UAAaA,EAAA,KAAAH,EAAAS,GAAA,kBAAAT,EAAArB,SAA6FwB,EAAA,QAAAA,EAAA,KAAqCK,YAAA,aAAuBR,EAAAS,GAAA,SAAzJN,EAAA,QAAAA,EAAA,KAAsEK,YAAA,aAAuBR,EAAAS,GAAA,eAA4DT,EAAAS,GAAA,KAAAT,EAAAjC,WAAA8B,YAA0JG,EAAAgB,KAA1Jb,EAAA,OAA4EK,YAAA,oBAA8BL,EAAA,KAAUQ,OAAOW,KAAAtB,EAAAjC,WAAAwD,WAA+BvB,EAAAS,GAAA,eAAAT,EAAAS,GAAA,KAAAN,EAAA,OAAuDc,aAAapD,KAAA,OAAAqD,QAAA,SAAAC,MAAAnB,EAAA,SAAAoB,WAAA,aAAwEZ,YAAA,kBAAAgB,UAA0CC,UAAAzB,EAAAU,GAAAV,EAAAjC,WAAA2D,WAA2C1B,EAAAS,GAAA,WAAAT,EAAAU,GAAAV,EAAAjC,WAAA2D,QAAA,aAEnlFC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACElE,EACAkC,GATF,EAVA,SAAAiC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,EAAAJ,EAAiB,wKCEhCK,GACApE,KAAA,cACAa,KAFA,WAGA,OACAP,OAAA,EACA+D,eACAC,YAAA,EACAC,SAAA,GACAC,UAAA,EACAC,UAAA,EACAC,aAAA,YAGAC,YACAC,OAAAC,EAAA,EACAC,WAAAC,EAAA,EACAC,WAAAjF,EAAA,EACAkF,QAAAC,EAAA,GAEA1E,QAnBA,WAoBA2E,SAAAC,MAAA3E,KAAA4E,OAAAC,KAAAF,MACA3E,KAAA8E,uBACAjB,YAAA7D,KAAA6D,YACAC,SAAA9D,KAAA8D,YAGAiB,QA1BA,WA2BAC,OAAAC,SAAAD,OAAAC,QAAAC,YACAD,QAAAC,UAAA,UAAAR,SAAAS,KACAH,OAAAI,iBAAA,WAAApF,KAAAqF,QAAA,KAGAC,UAhCA,WAiCAN,OAAAO,oBAAA,WAAAvF,KAAAqF,QAAA,IAEA7E,SACA6E,OADA,WAGArF,KAAAsB,gBAAAkE,eACAR,OAAAC,QAAAQ,QAEAC,SANA,WAQA1F,KAAA+D,UAAA/D,KAAA2F,SACA3F,KAAA8E,uBACAjB,YAAA7D,KAAA6D,YACAC,SAAA9D,KAAA8D,YAIA8B,UAfA,WAgBA5F,KAAA6F,MAAAC,kBAAAC,WAEAC,YAlBA,WAmBAhG,KAAA6F,MAAAC,kBAAAC,WAEAlF,WArBA,WAsBAoF,QAAAC,IAAA,QAEApB,sBAxBA,SAwBAqB,GAAA,IAAAC,EAAApG,KACAA,KAAA+D,UAAA,EACMsC,EAAA,EAANF,GAAAG,KAAA,SAAAC,GACAA,EAAAC,MAAA,OAAAD,EAAAC,MAEAJ,EAAAnC,aAAA,GACAmC,EAAAvC,cACAuC,EAAArC,UAAA,EACAqC,EAAAxC,YAAAwC,EAAAxC,YAAA6C,OAAAF,EAAAG,OAAAtG,MACAgG,EAAAxC,YAAA+C,QAAAJ,EAAAG,OAAAE,SACAR,EAAAT,SAAA,GAEAS,EAAAxC,YAAA+C,OAAA,IACAP,EAAApC,UAAA,IAEAuC,EAAAC,MAAA,OAAAD,EAAAC,KACU7F,EAAA,EAAVkG,cAAA7B,OAAA8B,SAAA9D,OAEAoD,EAAArC,UAAA,EACAqC,EAAAnF,UAAAC,aAAAqF,EAAAQ,eCvGeC,GADEvF,OAFjB,WAA0B,IAAAC,EAAA1B,KAAa2B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBK,YAAA,gBAA0BL,EAAA,UAAeoF,IAAA,oBAAA/E,YAAA,oBAAAgF,aAAqEC,IAAA,YAAiB9E,OAAQ+E,QAAA,GAAcpF,IAAKqF,YAAA3F,EAAAgE,YAA4B7D,EAAA,OAAAA,EAAA,OAAAH,EAAA4F,GAAA5F,EAAA,qBAAAX,GAA8D,OAAAc,EAAA,eAAyB0F,IAAAxG,EAAAyG,GAAAtF,YAAA,WAAAG,OAA0C5C,WAAAsB,EAAAlB,MAAA6B,EAAA7B,OAAoCmC,IAAKnB,WAAAa,EAAAb,WAAAmF,YAAAtE,EAAAsE,iBAA6DtE,EAAAS,GAAA,KAAAN,EAAA,WAA4Bc,aAAapD,KAAA,OAAAqD,QAAA,SAAAC,MAAAnB,EAAA,SAAAoB,WAAA,aAAwEoE,aAAeO,QAAA,UAAmBpF,OAAQsC,MAAAjD,EAAAuC,iBAA0B,GAAAvC,EAAAS,GAAA,KAAAN,EAAA,OAA4Bc,aAAapD,KAAA,OAAAqD,QAAA,SAAAC,MAAAnB,EAAA,SAAAoB,WAAA,aAAwEZ,YAAA,cAA0BL,EAAA,OAAYK,YAAA,6BAAuCL,EAAA,OAAYQ,OAAOC,IAAMiB,EAAQ,QAAmCf,IAAA,eAAqBd,EAAAS,GAAA,KAAAN,EAAA,KAAsBK,YAAA,mBAA6BR,EAAAS,GAAA,6BAEr/BkB,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEG,EACAqD,GATF,EAVA,SAAAvD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB,6CC1BhCI,EAAA,EAQO,SAAsByC,GAC3B,OAAOuB,IAAMC,KAAKC,IAAOC,IAAIC,aAAcC,IAAGC,WAC5CC,UAAU9B,EAAKtC,YACfC,SAASqC,EAAKrC,YACZwC,KAAK,SAAAC,GAAA,OAAOA,EAAInG,QAZtBsD,EAAA,EAkBO,SAA0ByC,GAC/B,OAAOuB,IAAMC,KAAKC,IAAOC,IAAIK,iBAAkBH,IAAGC,WAChDC,UAAU9B,EAAKtC,YACfC,SAASqC,EAAKrC,YACZwC,KAAK,SAAAC,GAAA,OAAOA,EAAInG,QAtBtB,IAAA+H,EAAA5E,EAAA,QAAA6E,EAAA7E,EAAA,QAAA8E,EAAA9E,EAAA+E,EAAAF,GAAAG,EAAAhF,EAAA,QAAAiF,EAAAjF,EAAA+E,EAAAC,yBCAAE,EAAAC,QAAiBnF,EAAAoF,EAAuB","file":"static/js/10.410d7884e0cadbea4a7a.js","sourcesContent":["<template>\n    <div :class=\"['coupon-item', valid ? 'coupon-valid-item' : 'coupon-invalid-item' ]\" @click=\"handleItem\">\n      <div class=\"exchange-date\"><span class=\"exchange-topText\">兑换时间:</span><span> {{ timeFormat(coupondata.createTime) }}</span></div>\n      <div class=\"coupon-info\">\n        <div class=\"coupon-img\">\n          <img :src=\"coupondata.itemPicture\" alt=\"\">\n        </div>\n        <div class=\"coupon-detail\">\n          <h2 class=\"coupon-title\">{{ coupondata.itemName }}</h2>\n          <div class=\"coupon-vaild-date\">有效期至 {{ timeFormat(coupondata.expireTime) }}</div>\n          <div v-if=\"coupondata.card && coupondata.pwd ? true : false\" class=\"coupon-num\">卡号: {{ coupondata.card }}</div>\n          <div v-if=\"coupondata.card && coupondata.pwd ? true : false\" class=\"coupon-pwd\">密码: {{ coupondata.pwd }}</div>\n          <div v-if=\"(!coupondata.card) && coupondata.pwd ? true : false\" class=\"coupon-camilo\">卡密: {{ coupondata.pwd }}</div>\n          <div v-if=\"coupondata.pictureCode ? true : false\" class=\"coupon-qrcode\">\n            <span @click=\"showQrcode\">点击查看卡券</span>\n          </div>\n        </div>\n        <div v-if=\"!coupondata.pictureCode\" class=\"coupon-option\">\n          <button type=\"button\" class=\"coupon-copy\"\n            v-clipboard:copy=\"copyText\"\n            v-clipboard:success=\"onCopySuccess\"\n            v-clipboard:error=\"onCopyError\">复制</button>\n        </div>\n      </div>\n      <div class=\"coupon-direction-for-use\">\n        <div class=\"coupon-dfu-button\" @click=\"openDirectionForUse\">\n          <div class=\"\">\n            <p>使用说明\n            <span v-if=\"!openText\">\n              <i class=\"iconfont\">&#xe632;</i>\n            </span>\n            <span v-else>\n              <i class=\"iconfont\">&#xe634;</i>\n            </span>\n            </p>\n          </div>\n        </div>\n        <div v-if=\"!coupondata.pictureCode\" class=\"coupon-dfu-link\">\n          <a :href=\"coupondata.goToUse\">点击去使用</a>\n        </div>\n      </div>\n      <div class=\"coupon-dfu-text\" v-show=\"openText\" v-html=\"coupondata.useTip\">\n          {{ coupondata.useTip }}\n      </div>\n    </div>\n</template>\n\n<script>\n  import util from \"../../common/js/util\"\n  export default {\n    name: 'coupon-item',\n    props:{\n      coupondata:{\n        type: Object,\n        default: null\n      },\n      valid: {\n        type: Boolean,\n        default: true\n      }\n    },\n    created(){\n      //判断粘贴数据\n      if(this.coupondata.card && this.coupondata.pwd){\n        this.copyText = this.coupondata.card + \"  \" + this.coupondata.pwd\n      }else if((!this.coupondata.card) && this.coupondata.pwd ){\n        this.copyText = this.coupondata.pwd\n      }\n    },\n    data(){\n      return {\n        copyText:\"\",\n        openText: false,\n        createTime: '',\n        expireTime: ''\n      }\n    },\n    methods:{\n      timeFormat(date){\n        return util.formatDate(date)\n      },\n      handleItem(){\n        this.$emit('handleItem',{item:this.data})\n      },\n      onCopySuccess(){\n        this.$toastBox.showToastBox(\"复制成功\")\n      },\n      onCopyError(){\n        this.$toastBox.showToastBox(\"复制失败\")\n      },\n      openDirectionForUse(){\n        this.openText = !this.openText\n        this.$emit(\"showDesText\")\n      },\n      showQrcode(){\n        //console.log(\"show\")\n        this.$couponToastBox.showToastBox(this.coupondata.pictureCode)\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @import \"../../common/stylus/iconfont.styl\"\n  .coupon-invalid-item\n    background url(\"./images/invalid.png\") no-repeat right top;\n    background-size 4.15625rem 3.53125rem\n    background-position 96% -0.3rem\n  .coupon-item + .coupon-item\n    margin-top 0.625rem\n  .coupon-item\n    width 100%\n    background-color #fff\n    padding 0 1rem\n    padding-bottom 0.75rem\n    box-sizing: border-box;\n    .exchange-date\n      height 2.03rem\n      border-bottom 1px solid rgb(230,230,230)\n      font-size 0.6875rem\n      line-height 2.03rem\n      color rgb(153,153,153)\n      box-sizing border-box\n      .exchange-topText\n        display inline-block\n        margin-right 0.5rem\n    .coupon-info\n      padding 0.75rem 0\n      display flex\n      height 4.3125rem\n      .coupon-img\n        width 4.3125rem\n        height 100%\n        img\n          width 100%\n          height 100%\n          display inline-block\n      .coupon-detail\n        height 4.3125rem\n        padding-left 0.75rem\n        flex 1\n        position relative\n        .coupon-title\n          font-size 0.875rem\n          margin-bottom 0.5rem\n        .coupon-vaild-date\n          font-size 0.6875rem\n          color rgb(255,72,0)\n          margin-bottom 0.5rem\n        .coupon-num\n          font-size 0.6875rem\n          color rgb(153,153,153)\n          margin-bottom 0.5rem\n        .coupon-pwd\n          font-size 0.6875rem\n          color rgb(153,153,153)\n        .coupon-camilo\n          font-size 0.6875rem\n          color rgb(153,153,153)\n        .coupon-qrcode\n          position absolute\n          left 0.75rem\n          bottom 0\n          border-bottom: 1px solid #42b0e9;\n          box-sizing: border-box;\n          span\n            color rgb(66,176,233)\n            font-size 0.75rem\n      .coupon-option\n        position relative\n        width 2.8125rem\n        height 100%\n        .coupon-copy\n          position absolute\n          width 100%\n          height 1.1875rem\n          line-height inherit\n          right 0px\n          bottom 0.78125rem\n          border 1px solid rgb(255,72,0)\n          border-radius 10px\n          color rgb(255,72,0)\n          padding 0\n          outline none\n          background-color #fff\n          font-size 0.75rem\n\n    .coupon-direction-for-use\n      height 1.47rem\n      font-size 0.6875rem\n      display flex\n      justify-content space-between\n      .coupon-dfu-button\n        color rgb(153,153,153)\n        line-height: 1.2rem;\n        .iconfont\n          font-size 0.75rem\n      .coupon-dfu-link\n        a\n          color rgb(66,176,233)\n          font-size 0.75rem\n          border-bottom 1px solid rgb(66,176,233)\n    .coupon-dfu-text\n      color rgb(153,153,153)\n      border 1px solid rgb(230,230,230)\n      padding 0.25rem 0.5rem\n      font-size 0.6875rem\n      line-height 1.25rem\n      border-radius 5px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/coupon-item/coupon-item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['coupon-item', _vm.valid ? 'coupon-valid-item' : 'coupon-invalid-item' ],on:{\"click\":_vm.handleItem}},[_c('div',{staticClass:\"exchange-date\"},[_c('span',{staticClass:\"exchange-topText\"},[_vm._v(\"兑换时间:\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.timeFormat(_vm.coupondata.createTime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-info\"},[_c('div',{staticClass:\"coupon-img\"},[_c('img',{attrs:{\"src\":_vm.coupondata.itemPicture,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_c('h2',{staticClass:\"coupon-title\"},[_vm._v(_vm._s(_vm.coupondata.itemName))]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-vaild-date\"},[_vm._v(\"有效期至 \"+_vm._s(_vm.timeFormat(_vm.coupondata.expireTime)))]),_vm._v(\" \"),(_vm.coupondata.card && _vm.coupondata.pwd ? true : false)?_c('div',{staticClass:\"coupon-num\"},[_vm._v(\"卡号: \"+_vm._s(_vm.coupondata.card))]):_vm._e(),_vm._v(\" \"),(_vm.coupondata.card && _vm.coupondata.pwd ? true : false)?_c('div',{staticClass:\"coupon-pwd\"},[_vm._v(\"密码: \"+_vm._s(_vm.coupondata.pwd))]):_vm._e(),_vm._v(\" \"),((!_vm.coupondata.card) && _vm.coupondata.pwd ? true : false)?_c('div',{staticClass:\"coupon-camilo\"},[_vm._v(\"卡密: \"+_vm._s(_vm.coupondata.pwd))]):_vm._e(),_vm._v(\" \"),(_vm.coupondata.pictureCode ? true : false)?_c('div',{staticClass:\"coupon-qrcode\"},[_c('span',{on:{\"click\":_vm.showQrcode}},[_vm._v(\"点击查看卡券\")])]):_vm._e()]),_vm._v(\" \"),(!_vm.coupondata.pictureCode)?_c('div',{staticClass:\"coupon-option\"},[_c('button',{directives:[{name:\"clipboard\",rawName:\"v-clipboard:copy\",value:(_vm.copyText),expression:\"copyText\",arg:\"copy\"},{name:\"clipboard\",rawName:\"v-clipboard:success\",value:(_vm.onCopySuccess),expression:\"onCopySuccess\",arg:\"success\"},{name:\"clipboard\",rawName:\"v-clipboard:error\",value:(_vm.onCopyError),expression:\"onCopyError\",arg:\"error\"}],staticClass:\"coupon-copy\",attrs:{\"type\":\"button\"}},[_vm._v(\"复制\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-direction-for-use\"},[_c('div',{staticClass:\"coupon-dfu-button\",on:{\"click\":_vm.openDirectionForUse}},[_c('div',{},[_c('p',[_vm._v(\"使用说明\\n        \"),(!_vm.openText)?_c('span',[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])]):_c('span',[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")])])])])]),_vm._v(\" \"),(!_vm.coupondata.pictureCode)?_c('div',{staticClass:\"coupon-dfu-link\"},[_c('a',{attrs:{\"href\":_vm.coupondata.goToUse}},[_vm._v(\"点击去使用\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openText),expression:\"openText\"}],staticClass:\"coupon-dfu-text\",domProps:{\"innerHTML\":_vm._s(_vm.coupondata.useTip)}},[_vm._v(\"\\n      \"+_vm._s(_vm.coupondata.useTip)+\"\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f97f3000\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/coupon-item/coupon-item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f97f3000\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./coupon-item.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coupon-item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coupon-item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f97f3000\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./coupon-item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f97f3000\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/coupon-item/coupon-item.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"validCoupon\">\r\n    <scroll style=\"top:3.375rem\" ref=\"validCouponScroll\" class=\"validCouponScroll\" :pullup=\"true\"\r\n            @scrollToEnd=\"loadMore\">\r\n      <div>\r\n        <div>\r\n          <coupon-item @handleItem=\"handleItem\" @showDesText=\"showDesText\" v-for=\"item in couponsList\" :key=\"item.id\" :coupondata=\"item\" :valid=\"valid\" class=\"nav-item\" ></coupon-item>\r\n          <loading style=\"padding:  1rem 0\" v-show=\"showLoad\" :title=\"loadingTitle\"></loading>\r\n        </div>\r\n        <div v-show=\"noCoupon\" class=\"no-coupon\">\r\n         <div class=\"no-coupon-content fadeIn\">\r\n           <img src=\"../my-coupon/images/no-coupon.png\" alt=\"no coupon\" class=\"\">\r\n           <p class=\"no-coupon-text\">您还没有任何失效卡券</p>\r\n         </div>\r\n        </div>\r\n      </div>\r\n    </scroll>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Scroll from '../../base/scroll/scroll'\r\n  import ShopHeader from '../../base/shop-header/shop-header'\r\n  import couponItem from '../../base/coupon-item/coupon-item'\r\n  import * as core from '../../api/myCoupon'\r\n  import Loading from '../../base/loading/loading'\r\n  import tool from '../../common/js/util'\r\n\r\n  export default {\r\n    name: 'validCoupon',\r\n    data() {\r\n      return {\r\n        valid: false,\r\n        couponsList: [],\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        showLoad: false,\r\n        noCoupon: false,\r\n        loadingTitle: '正在加载...'\r\n      }\r\n    },\r\n    components: {\r\n      Scroll,\r\n      ShopHeader,\r\n      couponItem,\r\n      Loading\r\n    },\r\n    created() {\r\n      document.title = this.$route.meta.title\r\n      this.getInvalidCouponsList({\r\n        currentPage: this.currentPage,\r\n        pageSize: this.pageSize\r\n      });\r\n    },\r\n     mounted(){\r\n      if (window.history && window.history.pushState) {\r\n        history.pushState(null, null, document.URL);\r\n        window.addEventListener('popstate', this.goBack, false);\r\n      }\r\n    },\r\n    destroyed(){\r\n      window.removeEventListener('popstate', this.goBack, false);\r\n    },\r\n    methods: {\r\n      goBack () {\r\n        // console.log(\"点击了浏览器的返回按钮\");\r\n        this.$couponToastBox.hideToastBox()\r\n        window.history.back();\r\n      },\r\n      loadMore() {\r\n        //console.log(\"loadmore\")\r\n        if (!this.showLoad && !this.hasMore) {\r\n          this.getInvalidCouponsList({\r\n            currentPage: this.currentPage,\r\n            pageSize: this.pageSize\r\n          })\r\n        }\r\n      },\r\n      loadImage() {\r\n        this.$refs.validCouponScroll.refresh()\r\n      },\r\n      showDesText(){\r\n        this.$refs.validCouponScroll.refresh()\r\n      },\r\n      handleItem(){\r\n        console.log(\"点击了\")\r\n      },\r\n      getInvalidCouponsList(opts) {\r\n        this.showLoad = true;\r\n        core.getInvalidCoupon(opts).then(res => {\r\n          if (res.code && '00' === res.code) {\r\n            // console.log(res)\r\n            this.loadingTitle = '';\r\n            this.currentPage++;\r\n            this.showLoad = false;\r\n            this.couponsList = this.couponsList.concat(res.result.data)\r\n            if (this.couponsList.length >= res.result.amount) {\r\n              this.hasMore = true\r\n            }\r\n            if(this.couponsList.length < 1){\r\n              this.noCoupon = true\r\n            }\r\n          }else if (res.code && '01' === res.code) {\r\n            tool.toWeiXinLogin(window.location.href)\r\n          } else {\r\n            this.showLoad = false\r\n            this.$toastBox.showToastBox(res.message)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n  .validCoupon\r\n    .validCouponScroll\r\n      position absolute\r\n      top 0\r\n      left 0\r\n      right 0\r\n      bottom 0\r\n      background-color rgb(245, 245, 245)\r\n      overflow hidden\r\n\r\n    .no-coupon\r\n      position fixed\r\n      top 0\r\n      left 0\r\n      right 0\r\n      bottom 0\r\n      .no-coupon-content\r\n        position absolute\r\n        top 6rem\r\n        width 9.5rem\r\n        left 50%\r\n        transform translateX(-50%)\r\n        text-align center\r\n        img\r\n          width 9.5rem\r\n          height 6.78125rem\r\n        .no-coupon-text\r\n          margin 0.75rem 0 0.9375rem 0\r\n          font-size 0.75rem\r\n          color rgb(153,153,153)\r\n\r\n.fadeIn {\r\n    -webkit-animation: fadeIn .3s;\r\n            animation: fadeIn .3s;\r\n}\r\n\r\n@-webkit-keyframes fadeIn {\r\n    from {\r\n      opacity: 0\r\n    }\r\n    to {\r\n      opacity: 1\r\n    }\r\n}\r\n\r\n@keyframes fadeIn {\r\n    from {\r\n        opacity: 0\r\n    }\r\n    to {\r\n        opacity: 1\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/coupon/invalid-coupon/invalid-coupon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"validCoupon\"},[_c('scroll',{ref:\"validCouponScroll\",staticClass:\"validCouponScroll\",staticStyle:{\"top\":\"3.375rem\"},attrs:{\"pullup\":true},on:{\"scrollToEnd\":_vm.loadMore}},[_c('div',[_c('div',[_vm._l((_vm.couponsList),function(item){return _c('coupon-item',{key:item.id,staticClass:\"nav-item\",attrs:{\"coupondata\":item,\"valid\":_vm.valid},on:{\"handleItem\":_vm.handleItem,\"showDesText\":_vm.showDesText}})}),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoad),expression:\"showLoad\"}],staticStyle:{\"padding\":\"1rem 0\"},attrs:{\"title\":_vm.loadingTitle}})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noCoupon),expression:\"noCoupon\"}],staticClass:\"no-coupon\"},[_c('div',{staticClass:\"no-coupon-content fadeIn\"},[_c('img',{attrs:{\"src\":require(\"../my-coupon/images/no-coupon.png\"),\"alt\":\"no coupon\"}}),_vm._v(\" \"),_c('p',{staticClass:\"no-coupon-text\"},[_vm._v(\"您还没有任何失效卡券\")])])])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a4f43cd2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/coupon/invalid-coupon/invalid-coupon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4f43cd2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./invalid-coupon.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./invalid-coupon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./invalid-coupon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4f43cd2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./invalid-coupon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a4f43cd2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/coupon/invalid-coupon/invalid-coupon.vue\n// module id = null\n// module chunks = ","import CONFIG from './config'\r\nimport axios from 'axios'\r\nimport qs from 'qs'\r\n\r\n\r\n/*\r\n* 获取所有卡券列表\r\n* */\r\nexport function getAllCoupon(opts) {\r\n  return axios.post(CONFIG.API.GETALLCOUPON, qs.stringify({\r\n    pageIndex:opts.currentPage,\r\n    pageSize:opts.pageSize\r\n  })).then(res => res.data)\r\n}\r\n\r\n/*\r\n* 获取失效卡券列表\r\n* */\r\nexport function getInvalidCoupon(opts) {\r\n  return axios.post(CONFIG.API.GETINVALIDCOUPON, qs.stringify({\r\n    pageIndex:opts.currentPage,\r\n    pageSize:opts.pageSize\r\n  })).then(res => res.data)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/myCoupon.js","module.exports = __webpack_public_path__ + \"static/img/no-coupon.80a0e13.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/coupon/my-coupon/images/no-coupon.png\n// module id = V2Fo\n// module chunks = 10 11"],"sourceRoot":""}