{"version":3,"sources":["webpack:///./src/common/js/cache.js","webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?63df","webpack:///./src/components/search/search.vue","webpack:///src/base/goods-search-bar/goods-search-bar.vue","webpack:///./src/base/goods-search-bar/goods-search-bar.vue?e566","webpack:///./src/base/goods-search-bar/goods-search-bar.vue"],"names":["SEAECH_KEY","SEARCH_MAX_LENGTH","getStorage","window","sessionStorage","getItem","split","alert","search_search","name","data","value","searchHistory","showPopup","components","GoodsSearchBar","goods_search_bar","Popup","popup","created","document","title","this","$route","meta","query","searchWord","methods","toHistory","e","$router","push","path","search","goBack","arr","val","compare","maxLen","index","searches","console","log","item","findIndex","splice","unshift","length","pop","setItem","join","confirm","clear","cancel","components_search_search","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","on","model","callback","$$v","expression","_v","click","_l","$event","_s","directives","rawName","staticStyle","padding","font-size","color","line-height","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","props","type","String","default","inputDisabled","Boolean","$emit","handleClick","goods_search_bar_goods_search_bar","vertical-align","disabled","domProps","input","target"],"mappings":"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","file":"static/js/15.add8368eeba0be39206c.js","sourcesContent":["const SEAECH_KEY = '__search__';\nconst SEARCH_MAX_LENGTH = 10;\n\nfunction insertArry(arr, val, compare, maxLen) {\n  const index = arr.findIndex(compare)\n  if (index === 0) {\n    return\n  }\n  if (index > 0) {\n    arr.splice(index, 1)\n  }\n  arr.unshift(val)\n  if (maxLen && arr.length > maxLen) {\n    arr.pop()\n  }\n}\n\nexport function getStorage(){\n  if(window.sessionStorage){\n    return sessionStorage.getItem(SEAECH_KEY)?sessionStorage.getItem(SEAECH_KEY).split(','):[];\n\n  }else{\n    alert('对不起，您的浏览器不支持本地缓存');\n  }\n}\nexport function setStorage(query){\n  let searches = getStorage()?getStorage():[];\n  console.log(searches);\n  insertArry(searches, query, (item) => {\n    return item === query\n  }, SEARCH_MAX_LENGTH);\n  console.log(searches);\n  sessionStorage.setItem(SEAECH_KEY, searches.join(','));\n  return searches\n}\nexport function clearStorage(){\n  sessionStorage.clear();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/cache.js","<template>\n  <div class=\"search\">\n    <goods-search-bar @goBack=\"goBack\" @search=\"search\"\n                      placeholder=\"请输入你喜欢的商品名称\" v-model=\"value\">\n    </goods-search-bar>\n    <div class=\"history-wrapper\">\n      <div class=\"title\">\n        <span>历史搜索</span>\n        <i @click=\"clear\" class=\"iconfont\">&#xe639;</i>\n      </div>\n      <div class=\"list-wrapper\">\n        <div @click=\"toHistory(item)\" v-for=\"item in searchHistory\" :key=\"\" class=\"list-item\">\n          {{item}}\n        </div>\n      </div>\n    </div>\n    <popup v-show=\"showPopup\" @confirm=\"confirm\" @cancel=\"cancel\">\n      <p style=\"padding: 0px 1.6rem 0.8rem; font-size: 15px; color: rgb(153, 153, 153); line-height: 1.3;\">\n        您确定要清除吗？</p></popup>\n  </div>\n</template>\n\n<script>\n  import GoodsSearchBar from '../../base/goods-search-bar/goods-search-bar'\n  import {getStorage, setStorage, clearStorage} from '../../common/js/cache';\n  import Popup from '../../base/popup/popup'\n\n  export default {\n    name: 'search',\n    data() {\n      return {\n        value: '',\n        searchHistory: [],\n        showPopup: false\n\n      }\n    },\n    components: {\n      GoodsSearchBar,\n      Popup\n    },\n    created() {\n      document.title = this.$route.meta.title     // console.log(this.$route.query.cartIds)\n      if (this.$route.query.searchWord){\n        this.value=this.$route.query.searchWord\n      }\n      this.searchHistory = getStorage();\n    },\n    methods: {\n      toHistory(e){\n        this.$router.push({path:'/searchDetail',query:{search:e}})\n      },\n      goBack() {\n        this.$router.push({path: '/'})\n      },\n      search() {\n        if (this.value===''){\n          return false\n        }\n        setStorage(this.value);\n        this.$router.push({path:'/searchDetail',query:{search:this.value}})\n        // this.searchHistory=getStorage();\n        // clearStorage()\n      },\n      confirm() {\n        this.showPopup = false\n        clearStorage();\n        this.searchHistory = []\n      },\n      cancel() {\n        this.showPopup = false\n      },\n      clear() {\n        this.showPopup = true\n\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @import \"../../common/stylus/iconfont.styl\"\n  .search\n    .history-wrapper\n      padding 2.063rem 0 0\n      width 91.47%\n      box-sizing border-box\n      margin 0 auto\n      .title\n        display flex\n        justify-content space-between\n        span, i\n          font-size 1rem\n          color #333\n      .list-wrapper\n        display flex\n        justify-content left\n        flex-wrap wrap\n        .list-item\n          font-size 0.875rem\n          padding 0.563rem 1.063rem\n          background-color #f8f8f8\n          border-radius 1rem\n          color #999\n          margin 1rem 1rem 0 0\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('goods-search-bar',{attrs:{\"placeholder\":\"请输入你喜欢的商品名称\"},on:{\"goBack\":_vm.goBack,\"search\":_vm.search},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_vm._v(\" \"),_c('div',{staticClass:\"history-wrapper\"},[_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(\"历史搜索\")]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont\",on:{\"click\":_vm.clear}},[_vm._v(\"\")])]),_vm._v(\" \"),_c('div',{staticClass:\"list-wrapper\"},_vm._l((_vm.searchHistory),function(item){return _c('div',{staticClass:\"list-item\",on:{\"click\":function($event){return _vm.toHistory(item)}}},[_vm._v(\"\\n        \"+_vm._s(item)+\"\\n      \")])}),0)]),_vm._v(\" \"),_c('popup',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPopup),expression:\"showPopup\"}],on:{\"confirm\":_vm.confirm,\"cancel\":_vm.cancel}},[_c('p',{staticStyle:{\"padding\":\"0px 1.6rem 0.8rem\",\"font-size\":\"15px\",\"color\":\"rgb(153, 153, 153)\",\"line-height\":\"1.3\"}},[_vm._v(\"\\n      您确定要清除吗？\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9b56466a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9b56466a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b56466a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9b56466a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"goods-serach-bar\">\n    <i style=\"font-size: 0.875rem;vertical-align: middle\" @click=\"goBack\" class=\"iconfont\">&#xe640;</i>\n    <div @click=\"handleClick\" class=\"input-wrapper\">\n      <i style=\"font-size: 0.75rem\" class=\"iconfont\">&#xe628;</i>\n      <input v-focus type=\"text\" @input=\"$emit('input', $event.target.value)\"\n             :value=\"value\" :disabled=\"inputDisabled\"\n             :placeholder=\"placeholder\" />\n    </div>\n    <span @click=\"search\" class=\"search\">搜索</span>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'goods-search-bar',\n    props: {\n      value: {\n        type: String,\n        default: ''\n      },\n      inputDisabled: {\n        type: Boolean,\n        default: false\n      },\n      placeholder: {\n        type: String,\n        default: ''\n      }\n    },\n    methods: {\n      search() {\n        this.$emit('search')\n      },\n      goBack() {\n        this.$emit('goBack')\n      },\n      handleClick(){\n        this.$emit('handleClick')\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  @import \"../../common/stylus/variable.styl\"\n  @import \"../../common/stylus/iconfont.styl\"\n  @import \"../../common/stylus/mixin.styl\"\n  .goods-serach-bar\n    height 2.75rem\n    line-height 2.75rem\n    border-bottom 1px solid #e6e6e6\n    box-sizing border-box\n    padding 0 1rem\n    display flex\n    align-items center\n    justify-content space-between\n    & > i\n      line-height 1\n      extend-click()\n\n  .input-wrapper\n    width 73.88%\n    padding-left 0.938rem\n    height 2rem\n    line-height 2rem\n    border-radius 1rem\n    background-color #f5f5f5\n    input\n      display inline-block\n      font-size 0.75rem\n      width 85%\n      vertical-align middle\n      background-color #f5f5f5\n      outline none\n      line-height 2rem\n      &::placeholder\n        color #ababab\n        font-size 0.75rem\n\n  .search\n    extend-click()\n    line-height 1\n    font-size 0.875rem\n    color #666\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/goods-search-bar/goods-search-bar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods-serach-bar\"},[_c('i',{staticClass:\"iconfont\",staticStyle:{\"font-size\":\"0.875rem\",\"vertical-align\":\"middle\"},on:{\"click\":_vm.goBack}},[_vm._v(\"\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-wrapper\",on:{\"click\":_vm.handleClick}},[_c('i',{staticClass:\"iconfont\",staticStyle:{\"font-size\":\"0.75rem\"}},[_vm._v(\"\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"type\":\"text\",\"disabled\":_vm.inputDisabled,\"placeholder\":_vm.placeholder},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})]),_vm._v(\" \"),_c('span',{staticClass:\"search\",on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cf1d0a7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/goods-search-bar/goods-search-bar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cf1d0a7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./goods-search-bar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods-search-bar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./goods-search-bar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cf1d0a7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./goods-search-bar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3cf1d0a7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/goods-search-bar/goods-search-bar.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}