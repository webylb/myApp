{"version":3,"sources":["webpack:///src/components/classify/classify.vue","webpack:///./src/api/classify.js","webpack:///./src/components/classify/classify.vue?57ab","webpack:///./src/components/classify/classify.vue"],"names":["classify","name","data","goodsList","currentPage","pageSize","showLoad","loadingTitle","num","components","Scroll","scroll_scroll","GoodsItem","goods_item","ShopHeader","shop_header","Loading","loading","activated","this","getShopCount","created","getGoodsList","categoryId","$route","query","methods","_this","axios","post","CONFIG","API","SHOP_COUNT","then","res","code","result","count","console","log","util","toWeiXinLogin","window","location","href","$toastBox","showToastBox","message","catch","e","toShopCar","$router","push","path","loadMore","hasMore","loadImage","$refs","classifyScroll","refresh","toDetail","commodityId","opts","_this2","ITEM_GOODS_LIST","qs","stringify","pageIndex","itemGoodsList","document","title","concat","length","amount","classify_classify","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","pullup","on","scrollToEnd","_l","item","key","id","_v","directives","rawName","value","expression","staticStyle","padding","click","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.a286793bebecc90dac7e.js","sourcesContent":["<template>\n  <div class=\"classify\">\n    <!--<shop-header style=\"position: absolute;top:0;left: 0;z-index: 999\"-->\n                 <!--line-style=\"background:#fff\" title=\"厨房用具\"></shop-header>-->\n    <scroll ref=\"classifyScroll\" class=\"classifyScroll\"\n            :pullup=\"true\"\n            @scrollToEnd=\"loadMore\"\n            :data=\"goodsList\">\n      <div>\n        <div class=\"goods-wrapper\">\n          <goods-item @toDetail=\"toDetail\" class=\"goods-item\" @loadImage=\"loadImage\"\n                      v-for=\"item in goodsList\"\n                      :data=\"item\" :key=\"item.id\"></goods-item>\n        </div>\n        <loading style=\"padding:  1rem 0\" v-show=\"showLoad\"\n                 :title=\"loadingTitle\"></loading>\n      </div>\n    </scroll>\n    <div @click=\"toShopCar\" class=\"shop-car\">\n      <div v-show=\"num<10\" class=\"num\">{{num}}</div>\n      <div v-show=\"num>9\" class=\"num1\">{{num}}</div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import tool from '../../common/js/util'\n  import Scroll from '../../base/scroll/scroll'\n  import GoodsItem from '../../base/goods-item/goods-item'\n  import ShopHeader from '../../base/shop-header/shop-header'\n  import * as core from '../../api/classify'\n  import Loading from '../../base/loading/loading'\n\n  export default {\n    name: 'classify',\n    data() {\n      return {\n        goodsList: [],\n        currentPage: 1,\n        pageSize: 10,\n        showLoad: true,\n        loadingTitle: '正在加载...',\n        num:0\n      }\n    },\n    components: {\n      Scroll,\n      GoodsItem,\n      ShopHeader,\n      Loading\n    },\n    activated() {\n      this.getShopCount()\n    },\n    created() {\n      this.getShopCount()\n      this.getGoodsList({\n        currentPage: this.currentPage,\n        pageSize: this.pageSize,\n        categoryId: this.$route.query.categoryId\n      })\n    },\n    methods: {\n      getShopCount() {\n        core.shopCount().then(res => {\n          if (res.code && '00' === res.code) {\n            this.num = res.result.count\n            console.log(res, 'dasdasdsadass')\n          } else if (res.code && '01' === res.code) {\n            tool.toWeiXinLogin(window.location.href)\n          } else {\n            this.$toastBox.showToastBox(res.message)\n          }\n        }).catch(e => {\n          this.$toastBox.showToastBox(e)\n        })\n      },\n      toShopCar(){\n        this.$router.push({path:'/shopCar'})\n      },\n      loadMore() {\n        if (!this.showLoad && !this.hasMore) {\n          this.getGoodsList({\n            currentPage: this.currentPage,\n            pageSize: this.pageSize,\n            categoryId: this.$route.query.categoryId\n          })\n        }\n      },\n      loadImage() {\n        this.$refs.classifyScroll.refresh()\n      },\n      toDetail(e) {\n        this.$router.push({path: '/commodityDetails', query: {commodityId: e}})\n      },\n      getGoodsList(opts) {\n        this.showLoad = true;\n        core.itemGoodsList(opts).then(res => {\n          if (res.code && '00' === res.code) {\n            document.title = res.message     // console.log(this.$route.query.cartIds)\n            this.loadingTitle = '';\n            this.currentPage++;\n            this.showLoad = false;\n            this.goodsList = this.goodsList.concat(res.result.data)\n            if (this.goodsList.length >= res.result.amount) {\n              this.hasMore = true\n            }\n          }else if (res.code && '01' === res.code) {\n            tool.toWeiXinLogin(window.location.href)\n          } else {\n            this.$toastBox.showToastBox(res.message)\n          }\n        }).catch(e => {\n          this.$toastBox.showToastBox(e)\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\n  .classify\n    .shop-car\n      position fixed\n      z-index 999\n      right 0.719rem\n      bottom 4rem\n      width 3.125rem\n      height 3.125rem\n      background url(\"../../common/images/shop_car.png\") no-repeat 100%/100%\n      .num, .num1\n        font-size 0.75rem\n        color #fff\n        position absolute\n        right 0\n        min-width 1rem\n        height 1rem\n        border-radius 0.5rem\n        text-align center\n        line-height 1rem\n        background-color #ff1111\n        top 0\n      .num1\n        padding 0 3px\n    .classifyScroll\n      position fixed\n      top 0\n      left 0\n      right 0\n      bottom 0\n      background-color rgb(245, 245, 245)\n      .goods-wrapper\n        display flex\n        justify-content space-between\n        flex-wrap wrap\n        padding 1rem 0\n        .goods-item\n          width 49.43%\n          overflow hidden\n          border-radius 0.25rem\n          margin-bottom 0.25rem\n          break-inside: avoid;\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/classify/classify.vue","import CONFIG from './config'\nimport axios from 'axios'\nimport qs from 'qs'\n\n/*\n* 根据\n* */\nexport function itemGoodsList(opts) {\n  return axios.post(CONFIG.API.ITEM_GOODS_LIST, qs.stringify({\n    pageIndex:opts.currentPage,\n    pageSize:opts.pageSize,\n    categoryId:opts.categoryId\n  })).then(res => res.data)\n}\n\n/*\n* navlist\n* */\nexport function shopCount() {\n  return axios.post(CONFIG.API.SHOP_COUNT).then(res => res.data)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/classify.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classify\"},[_c('scroll',{ref:\"classifyScroll\",staticClass:\"classifyScroll\",attrs:{\"pullup\":true,\"data\":_vm.goodsList},on:{\"scrollToEnd\":_vm.loadMore}},[_c('div',[_c('div',{staticClass:\"goods-wrapper\"},_vm._l((_vm.goodsList),function(item){return _c('goods-item',{key:item.id,staticClass:\"goods-item\",attrs:{\"data\":item},on:{\"toDetail\":_vm.toDetail,\"loadImage\":_vm.loadImage}})}),1),_vm._v(\" \"),_c('loading',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showLoad),expression:\"showLoad\"}],staticStyle:{\"padding\":\"1rem 0\"},attrs:{\"title\":_vm.loadingTitle}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"shop-car\",on:{\"click\":_vm.toShopCar}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.num<10),expression:\"num<10\"}],staticClass:\"num\"},[_vm._v(_vm._s(_vm.num))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.num>9),expression:\"num>9\"}],staticClass:\"num1\"},[_vm._v(_vm._s(_vm.num))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e7d261a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/classify/classify.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e7d261a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./classify.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./classify.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./classify.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e7d261a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./classify.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e7d261a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/classify/classify.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}