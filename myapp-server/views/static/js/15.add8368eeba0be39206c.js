webpackJsonp([15],{"J+53":function(t,e){},QPJI:function(t,e){},YOyO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("xo6T"),i="__search__",o=10;function n(){if(window.sessionStorage)return sessionStorage.getItem(i)?sessionStorage.getItem(i).split(","):[];alert("对不起，您的浏览器不支持本地缓存")}var r=s("1All"),c={name:"search",data:function(){return{value:"",searchHistory:[],showPopup:!1}},components:{GoodsSearchBar:a.a,Popup:r.a},created:function(){document.title=this.$route.meta.title,this.$route.query.searchWord&&(this.value=this.$route.query.searchWord),this.searchHistory=n()},methods:{toHistory:function(t){this.$router.push({path:"/searchDetail",query:{search:t}})},goBack:function(){this.$router.push({path:"/"})},search:function(){if(""===this.value)return!1;var t,e,s,a,r,c,l;t=this.value,l=n()?n():[],console.log(l),s=t,a=function(e){return e===t},r=o,0!==(c=(e=l).findIndex(a))&&(c>0&&e.splice(c,1),e.unshift(s),r&&e.length>r&&e.pop()),console.log(l),sessionStorage.setItem(i,l.join(",")),this.$router.push({path:"/searchDetail",query:{search:this.value}})},confirm:function(){this.showPopup=!1,sessionStorage.clear(),this.searchHistory=[]},cancel:function(){this.showPopup=!1},clear:function(){this.showPopup=!0}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("goods-search-bar",{attrs:{placeholder:"请输入你喜欢的商品名称"},on:{goBack:t.goBack,search:t.search},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),s("div",{staticClass:"history-wrapper"},[s("div",{staticClass:"title"},[s("span",[t._v("历史搜索")]),t._v(" "),s("i",{staticClass:"iconfont",on:{click:t.clear}},[t._v("")])]),t._v(" "),s("div",{staticClass:"list-wrapper"},t._l(t.searchHistory,function(e){return s("div",{staticClass:"list-item",on:{click:function(s){return t.toHistory(e)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),0)]),t._v(" "),s("popup",{directives:[{name:"show",rawName:"v-show",value:t.showPopup,expression:"showPopup"}],on:{confirm:t.confirm,cancel:t.cancel}},[s("p",{staticStyle:{padding:"0px 1.6rem 0.8rem","font-size":"15px",color:"rgb(153, 153, 153)","line-height":"1.3"}},[t._v("\n      您确定要清除吗？")])])],1)},staticRenderFns:[]};var u=s("VU/8")(c,l,!1,function(t){s("J+53")},"data-v-9b56466a",null);e.default=u.exports},xo6T:function(t,e,s){"use strict";var a={name:"goods-search-bar",props:{value:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},placeholder:{type:String,default:""}},methods:{search:function(){this.$emit("search")},goBack:function(){this.$emit("goBack")},handleClick:function(){this.$emit("handleClick")}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"goods-serach-bar"},[s("i",{staticClass:"iconfont",staticStyle:{"font-size":"0.875rem","vertical-align":"middle"},on:{click:t.goBack}},[t._v("")]),t._v(" "),s("div",{staticClass:"input-wrapper",on:{click:t.handleClick}},[s("i",{staticClass:"iconfont",staticStyle:{"font-size":"0.75rem"}},[t._v("")]),t._v(" "),s("input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{type:"text",disabled:t.inputDisabled,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})]),t._v(" "),s("span",{staticClass:"search",on:{click:t.search}},[t._v("搜索")])])},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(t){s("QPJI")},"data-v-3cf1d0a7",null);e.a=o.exports}});
//# sourceMappingURL=15.add8368eeba0be39206c.js.map